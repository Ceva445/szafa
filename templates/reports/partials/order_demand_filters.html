<div class="card">
    <h3>Filtry raportu zapotrzebowania na zamówienie</h3>
    
    <div class="filter-grid">
        <div class="filter-group">
            <label for="months_ahead">Okres prognozy</label>
            <select name="months_ahead" id="months_ahead">
                <option value="1" {% if filters.months_ahead == 1 %}selected{% endif %}>1 miesiąc</option>
                <option value="2" {% if filters.months_ahead == 2 %}selected{% endif %}>2 miesiące</option>
                <option value="3" {% if filters.months_ahead == 3 %}selected{% endif %}>3 miesiące</option>
                <option value="6" {% if filters.months_ahead == 6 %}selected{% endif %}>6 miesięcy</option>
                <option value="12" {% if filters.months_ahead == 12 %}selected{% endif %}>12 miesięcy</option>
                <option value="24" {% if filters.months_ahead == 18 %}selected{% endif %}>18 miesiące</option>
            </select>
        </div>
        
        <div class="filter-group">
            <div class="checkbox-group">
                <input type="checkbox" name="show_zero_demand" id="show_zero_demand" value="true" 
                    {% if filters.show_zero_demand %}checked{% endif %}>
                <label for="show_zero_demand" style="font-weight: normal; margin: 0;">
                    Pokaż produkty z zerowym zapasem
                </label>
            </div>
        </div>
    </div>
    
    <div class="period-info">
        <p><strong>Okres analizy:</strong> {{ filters.start_date|date:"Y-m-d" }} - {{ filters.end_date|date:"Y-m-d" }}</p>
        <p class="subtitle">Raport oblicza ilość sztuk każdego asortymentu do zamówienia na podstawie wydań w wybranym okresie</p>
    </div>

    <div class="filter-actions">
        <div style="display: flex; align-items: center; gap: 0.5rem;">
            <label for="output" style="margin: 0;">Forma wyświetlania:</label>
            <select name="output" id="output" style="min-width: 120px;">
                <option value="screen" {% if request.GET.output == "screen" or not request.GET.output %}selected{% endif %}>Na ekran</option>
                <option value="pdf" {% if request.GET.output == "pdf" %}selected{% endif %}>PDF</option>
                <option value="xls" {% if request.GET.output == "xls" %}selected{% endif %}>Excel</option>
            </select>
            
            <button type="submit" class="btn primary">Generuj</button>
            <button type="button" class="btn ghost" onclick="clearFilters()">Wyczyść</button>
        </div>
    </div>
</div>

<script>
function clearFilters() {
    document.getElementById('months_ahead').value = '1';
    document.getElementById('show_zero_demand').checked = false;
    document.getElementById('report_form').submit();
}
</script>